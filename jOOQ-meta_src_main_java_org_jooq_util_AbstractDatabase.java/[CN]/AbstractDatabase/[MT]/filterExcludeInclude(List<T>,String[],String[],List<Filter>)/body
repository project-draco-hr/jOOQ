{
  List<T> result=new ArrayList<T>();
  definitionsLoop:   for (  T definition : definitions) {
    if (excludes != null) {
      for (      String exclude : excludes) {
        Pattern p=Pattern.compile(exclude,Pattern.COMMENTS);
        if (exclude != null && (p.matcher(definition.getName()).matches() || p.matcher(definition.getQualifiedName()).matches())) {
          if (log.isDebugEnabled())           log.debug("Exclude","Excluding " + definition.getQualifiedName() + " because of pattern "+ exclude);
          continue definitionsLoop;
        }
      }
    }
    for (    Filter filter : filters) {
      if (filter.exclude(definition)) {
        if (log.isDebugEnabled())         log.debug("Exclude","Excluding " + definition.getQualifiedName() + " because of filter "+ filter);
        continue definitionsLoop;
      }
    }
    if (includes != null) {
      for (      String include : includes) {
        Pattern p=Pattern.compile(include,Pattern.COMMENTS);
        if (include != null && (p.matcher(definition.getName()).matches() || p.matcher(definition.getQualifiedName()).matches())) {
          result.add(definition);
          if (log.isDebugEnabled())           log.debug("Include","Including " + definition.getQualifiedName() + " because of pattern "+ include);
          continue definitionsLoop;
        }
      }
    }
  }
  return result;
}
