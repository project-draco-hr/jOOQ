{
  List<T> result=new ArrayList<T>();
  definitionsLoop:   for (  T definition : definitions) {
    if (excludes != null) {
      for (      String exclude : excludes) {
        Pattern p=pattern(exclude);
        if (exclude != null && (p.matcher(definition.getName()).matches() || p.matcher(definition.getQualifiedName()).matches())) {
          if (log.isDebugEnabled())           log.debug("Exclude","Excluding " + definition.getQualifiedName() + " because of pattern "+ exclude);
          continue definitionsLoop;
        }
      }
    }
    if (includes != null) {
      for (      String include : includes) {
        Pattern p=pattern(include);
        if (include != null && (p.matcher(definition.getName()).matches() || p.matcher(definition.getQualifiedName()).matches())) {
          for (          Filter filter : filters) {
            if (filter.exclude(definition)) {
              if (log.isDebugEnabled())               log.debug("Exclude","Excluding " + definition.getQualifiedName() + " because of filter "+ filter);
              continue definitionsLoop;
            }
          }
          result.add(definition);
          if (log.isDebugEnabled())           log.debug("Include","Including " + definition.getQualifiedName() + " because of pattern "+ include);
          continue definitionsLoop;
        }
      }
    }
  }
  return result;
}
