{
  log.info("Generating package",pkg);
  final String className=getStrategy().getJavaClassName(pkg);
  final String schemaIdentifier=getStrategy().getFullJavaIdentifier(schema);
  final List<String> interfaces=getStrategy().getJavaClassImplements(pkg,Mode.DEFAULT);
  for (  RoutineDefinition routine : pkg.getRoutines()) {
    try {
      printRoutine(schema,routine);
    }
 catch (    Exception e) {
      log.error("Error while generating routine " + routine,e);
    }
  }
  JavaWriter outPkg=new JavaWriter(getStrategy().getFile(pkg));
  printPackage(outPkg,pkg);
  printClassJavadoc(outPkg,"Convenience access to all stored procedures and functions in " + pkg.getName());
  outPkg.println("public final class %s extends %s[[before= implements ][%s]] {",className,PackageImpl.class,interfaces);
  outPkg.printSerial();
  printSingletonInstance(outPkg,pkg);
  for (  RoutineDefinition routine : pkg.getRoutines()) {
    try {
      if (!routine.isSQLUsable()) {
        printConvenienceMethodProcedure(outPkg,routine,false);
      }
 else {
        if (!routine.isAggregate()) {
          printConvenienceMethodFunction(outPkg,routine,false);
        }
        printConvenienceMethodFunctionAsField(outPkg,routine,false);
        printConvenienceMethodFunctionAsField(outPkg,routine,true);
      }
    }
 catch (    Exception e) {
      log.error("Error while generating routine " + routine,e);
    }
  }
  outPkg.tab(1).javadoc(NO_FURTHER_INSTANCES_ALLOWED);
  outPkg.tab(1).println("private %s() {",className);
  outPkg.tab(2).println("super(\"%s\", %s);",pkg.getOutputName(),schemaIdentifier);
  outPkg.tab(1).println("}");
  outPkg.println("}");
  outPkg.close();
}
