{
  StopWatch watch=new StopWatch();
  Connection connection=create.getConnection();
  PreparedStatement statement=null;
  String sql=null;
  try {
    sql=create.render(query);
    watch.splitTrace("SQL rendered");
    if (log.isDebugEnabled())     log.debug("Executing query",create.renderInlined(query));
    if (log.isTraceEnabled())     log.trace("Preparing statement",sql);
    statement=connection.prepareStatement(sql);
    watch.splitTrace("Statement prepared");
    for (    Object[] bindValues : allBindValues) {
      new DefaultBindContext(create,statement).bindValues(bindValues);
      statement.addBatch();
    }
    watch.splitTrace("Variables bound");
    int[] result=statement.executeBatch();
    watch.splitTrace("Statement executed");
    return result;
  }
 catch (  SQLException e) {
    throw JooqUtil.translate("BatchSingle.execute",sql,e);
  }
 finally {
    JooqUtil.safeClose(statement);
    watch.splitDebug("Statement executed");
  }
}
