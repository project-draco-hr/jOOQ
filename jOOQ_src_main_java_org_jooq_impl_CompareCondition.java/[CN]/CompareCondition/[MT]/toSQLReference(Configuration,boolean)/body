{
  StringBuilder sb=new StringBuilder();
  sb.append(internal(field1).toSQLReference(configuration,inlineParameters));
  sb.append(" ");
  if (field2.isNullLiteral()) {
switch (comparator) {
case EQUALS:
      sb.append("is null");
    break;
case NOT_EQUALS:
  sb.append("is not null");
break;
default :
throw new IllegalStateException("Cannot compare null with " + comparator);
}
}
 else {
sb.append(comparator.toSQL());
sb.append(" ");
sb.append(internal(field2).toSQLReference(configuration,inlineParameters));
}
return sb.toString();
}
