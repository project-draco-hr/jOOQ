{
  matcherLoop:   for (  Matcher matcher : matchers(ctx)) {
    for (    Breakpoint breakpoint : matcher.breakpoints()) {
      BreakpointListener listener=breakpoint.listener();
      if (listener != null) {
        QueryExecutor executor=new QueryExecutorImpl(ctx);
        BREAKPOINT_EXECUTORS.set(executor);
        try {
          HitContext hitContext=new HitContextImpl(ctx.query(),executor);
          Step step=null;
          try {
            if (before) {
              step=listener.before(hitContext);
            }
 else {
              step=listener.after(hitContext);
            }
          }
 catch (          Exception e) {
            Utils.doThrow(e);
          }
          listenerStep: switch (defaultIfNull(step,STEP)) {
case STEP:
            break listenerStep;
case SKIP:
          break matcherLoop;
case FAIL:
        throw new DataAccessException("Failing query");
    }
  }
  finally {
    BREAKPOINT_EXECUTORS.remove();
  }
}
}
}
}
