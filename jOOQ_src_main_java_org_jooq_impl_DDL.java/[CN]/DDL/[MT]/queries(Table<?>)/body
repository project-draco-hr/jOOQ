{
  List<Constraint> constraints=new ArrayList<Constraint>();
  for (  UniqueKey<?> key : table.getKeys())   if (key.isPrimary())   constraints.add(constraint(key.getName()).primaryKey(key.getFieldsArray()));
 else   constraints.add(constraint(key.getName()).unique(key.getFieldsArray()));
  for (  ForeignKey<?,?> key : table.getReferences())   constraints.add(constraint(key.getName()).foreignKey(key.getFieldsArray()).references(key.getKey().getTable(),key.getKey().getFieldsArray()));
  return DSL.queries(ctx.createTable(table).columns(table.fields()).constraints(constraints));
}
