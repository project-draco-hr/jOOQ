{
  boolean anyResults=false;
  while (ctx.resultSet() != null) {
    anyResults=true;
    Field<?>[] fields=new MetaDataFieldProvider(ctx.configuration(),ctx.resultSet().getMetaData()).getFields();
    Cursor<Record> c=new CursorImpl<Record>(ctx,listener,fields,intern != null ? intern.internIndexes(fields) : null,true,false);
    results.add(c.fetch());
    if (ctx.statement().getMoreResults()) {
      ctx.resultSet(ctx.statement().getResultSet());
    }
 else {
      ctx.resultSet(null);
    }
  }
  if (anyResults) {
    ctx.statement().getMoreResults(Statement.CLOSE_ALL_RESULTS);
  }
}
