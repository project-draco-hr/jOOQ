{
  Object o=ois.readUnshared();
  if (o instanceof Message) {
    Message<?> message=(Message<?>)o;
    if (log.isDebugEnabled()) {
      log.debug("[" + (isClient ? "client" : "server") + "] RECV: "+ message.getID()+ ", "+ message);
    }
    return message;
  }
  log.error("[" + (isClient ? "client" : "server") + "] Unknown message: "+ o);
  return null;
}
