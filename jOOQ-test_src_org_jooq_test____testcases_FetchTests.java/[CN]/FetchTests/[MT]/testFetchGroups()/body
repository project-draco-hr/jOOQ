{
  Map<Integer,Result<B>> map1=create().selectFrom(TBook()).orderBy(TBook_ID()).fetchGroups(TBook_ID());
  for (  Entry<Integer,Result<B>> entry : map1.entrySet()) {
    assertEquals(1,entry.getValue().size());
    assertEquals(entry.getKey(),entry.getValue().get(0).getValue(TBook_ID()));
  }
  assertEquals(4,map1.size());
  assertEquals(BOOK_IDS,new ArrayList<Integer>(map1.keySet()));
  Map<Integer,Result<B>> map2=create().selectFrom(TBook()).orderBy(TBook_ID()).fetchGroups(TBook_AUTHOR_ID());
  assertEquals(2,map2.size());
  assertEquals(AUTHOR_IDS,new ArrayList<Integer>(map2.keySet()));
  Iterator<Entry<Integer,Result<B>>> it=map2.entrySet().iterator();
  Entry<Integer,Result<B>> entry21=it.next();
  assertEquals(2,entry21.getValue().size());
  assertEquals(1,(int)entry21.getValue().get(0).getValue(TBook_ID()));
  assertEquals(2,(int)entry21.getValue().get(1).getValue(TBook_ID()));
  Entry<Integer,Result<B>> entry22=it.next();
  assertEquals(2,entry22.getValue().size());
  assertEquals(3,(int)entry22.getValue().get(0).getValue(TBook_ID()));
  assertEquals(4,(int)entry22.getValue().get(1).getValue(TBook_ID()));
  assertFalse(it.hasNext());
  Map<Integer,List<String>> map3=create().selectFrom(TBook()).orderBy(TBook_ID()).fetchGroups(TBook_ID(),TBook_TITLE());
  ArrayList<List<String>> map3Values=new ArrayList<List<String>>(map3.values());
  assertEquals(4,map3.size());
  assertEquals(BOOK_IDS,new ArrayList<Integer>(map3.keySet()));
  for (int i=0; i < 4; i++) {
    assertEquals(1,map3Values.get(i).size());
    assertEquals(BOOK_TITLES.get(i),map3Values.get(i).get(0));
  }
  Map<Integer,List<String>> map4=create().selectFrom(TBook()).orderBy(TBook_ID()).fetchGroups(TBook_AUTHOR_ID(),TBook_TITLE());
  ArrayList<List<String>> map4Values=new ArrayList<List<String>>(map4.values());
  assertEquals(2,map4.size());
  assertEquals(AUTHOR_IDS,new ArrayList<Integer>(map4.keySet()));
  for (int i=0; i < 2; i++) {
    assertEquals(2,map4Values.get(i).size());
    assertEquals(BOOK_TITLES.get(i * 2 + 0),map4Values.get(i).get(0));
    assertEquals(BOOK_TITLES.get(i * 2 + 1),map4Values.get(i).get(1));
  }
}
