{
  boolean rename=fields != null && fields.length > 0;
  boolean renameSupported=ctx.family() != SQLITE;
  ctx.start(CREATE_VIEW_NAME).keyword("create view").sql(" ").visit(view);
  if (rename && renameSupported) {
    boolean qualify=ctx.qualify();
    ctx.sql("(").qualify(false).visit(new QueryPartList<Field<?>>(fields)).qualify(qualify).sql(")");
  }
  ctx.end(CREATE_VIEW_NAME).formatSeparator().keyword("as").formatSeparator().start(CREATE_VIEW_AS).visit(rename && !renameSupported ? selectFrom(table(select).as("t",Utils.fieldNames(fields))) : select).end(CREATE_VIEW_AS);
}
