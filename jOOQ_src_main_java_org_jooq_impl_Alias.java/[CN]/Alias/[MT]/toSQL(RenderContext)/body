{
  if (context.declareFields() || context.declareTables()) {
    if (wrapInParentheses) {
      context.sql("(");
    }
    context.sql(wrapped);
    if (wrapInParentheses) {
      context.sql(")");
    }
    if (Arrays.asList(DERBY,HSQLDB,MYSQL,POSTGRES).contains(context.getDialect())) {
      context.keyword(" as");
    }
    context.sql(" ");
    context.literal(alias);
switch (context.getDialect()) {
case HSQLDB:
case POSTGRES:
{
        Object o=wrapped;
        if (context.declareTables() && o instanceof ArrayTable) {
          ArrayTable table=(ArrayTable)o;
          context.sql("(");
          Util.fieldNames(context,table.getFields());
          context.sql(")");
        }
        break;
      }
  }
}
 else {
  context.literal(alias);
}
}
