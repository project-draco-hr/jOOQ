{
  ExecuteContext ctx=new DefaultExecuteContext(create,queries);
  ExecuteListener listener=new ExecuteListeners(ctx);
  Connection connection=ctx.connection();
  try {
    ctx.statement(new PreparedStatementProxy(connection));
    String[] batchSQL=ctx.batchSQL();
    for (int i=0; i < queries.length; i++) {
      listener.renderStart(ctx);
      batchSQL[i]=create.renderInlined(queries[i]);
      listener.renderEnd(ctx);
    }
    for (    String sql : batchSQL) {
      ctx.sql(sql);
      listener.prepareStart(ctx);
      ctx.statement().addBatch(sql);
      listener.prepareEnd(ctx);
      ctx.sql(null);
    }
    listener.executeStart(ctx);
    int[] result=ctx.statement().executeBatch();
    listener.executeEnd(ctx);
    return result;
  }
 catch (  SQLException e) {
    ctx.sqlException(e);
    listener.exception(ctx);
    throw ctx.exception();
  }
 finally {
    Utils.safeClose(listener,ctx);
  }
}
