{
  AbstractRecord record=null;
  try {
    if (!isClosed && rs.next()) {
      if (TRUE.equals(ctx.data(DATA_LOCK_ROWS_FOR_UPDATE))) {
        rs.updateObject(1,rs.getObject(1));
        rs.updateRow();
      }
      record=(AbstractRecord)Utils.newRecord(type,fields,ctx.configuration());
      ctx.record(record);
      listener.recordStart(ctx);
      for (int i=0; i < fields.length; i++) {
        setValue(record,fields[i],i);
        if (intern[i]) {
          record.getValue0(i).intern();
        }
      }
      ctx.record(record);
      listener.recordEnd(ctx);
    }
  }
 catch (  SQLException e) {
    ctx.sqlException(e);
    listener.exception(ctx);
    throw ctx.exception();
  }
  if (record == null) {
    CursorImpl.this.close();
  }
  return (R)record;
}
