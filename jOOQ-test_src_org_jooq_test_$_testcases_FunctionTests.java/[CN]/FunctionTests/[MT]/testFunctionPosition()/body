{
  if (getDialect() == SQLDialect.SQLITE) {
    log.info("SKIPPING","position function test");
    return;
  }
  SelectQuery q=create().selectQuery();
  q.addFrom(VLibrary());
  Field<Integer> position=position(VLibrary_AUTHOR(),"o").as("p");
  q.addSelect(VLibrary_AUTHOR());
  q.addSelect(position);
  q.addOrderBy(field(VLibrary_AUTHOR().getName()));
  q.execute();
  Record r1=q.getResult().get(1);
  Record r2=q.getResult().get(2);
  assertEquals(Integer.valueOf(3),r1.getValue(position));
  assertEquals(Integer.valueOf(5),r2.getValue(position));
  L library=create().fetchAny(VLibrary());
  assertTrue(library != null);
}
