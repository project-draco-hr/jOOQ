{
  Field<Timestamp> now=currentTimestamp();
  Field<Timestamp> ts=now.as("ts");
  Field<Timestamp> tomorrow=now.add(1);
  Field<Timestamp> yesterday=now.sub(1);
  Record record=create().select(tomorrow,ts,yesterday).fetchOne();
  Calendar cal=Calendar.getInstance();
  long tNow=cal.getTimeInMillis();
  cal.add(Calendar.DATE,1);
  long tTomorrow=cal.getTimeInMillis();
  cal.add(Calendar.DATE,-2);
  long tYesterday=cal.getTimeInMillis();
  assertEquals((tNow - tYesterday) / 1000,(record.getValue(ts).getTime() / 1000 - record.getValue(yesterday).getTime() / 1000));
  assertEquals((tTomorrow - tNow) / 1000,(record.getValue(tomorrow).getTime() / 1000 - record.getValue(ts).getTime() / 1000));
}
