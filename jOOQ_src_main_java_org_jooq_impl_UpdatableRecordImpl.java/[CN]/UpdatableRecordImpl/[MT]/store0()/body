{
  TableField<R,?>[] keys=getPrimaryKey().getFieldsArray();
  boolean executeUpdate=false;
  for (  TableField<R,?> field : keys) {
    if (updatablePrimaryKeys(settings(this))) {
      if (original(field) == null) {
        executeUpdate=false;
        break;
      }
    }
 else {
      if (getValue0(field).isChanged() || (field.getDataType().nullable() == false && getValue(field) == null)) {
        executeUpdate=false;
        break;
      }
    }
    executeUpdate=true;
  }
  int result=0;
  if (executeUpdate) {
    result=storeUpdate(keys);
  }
 else {
    result=storeInsert();
  }
  return result;
}
