{
  if (rs != null) {
    super.refresh(f);
  }
 else {
    SelectQuery<?> select=create().selectQuery();
    select.addSelect(f);
    select.addFrom(getTable());
    select.keepResultSet(keepResultSetMode);
    Utils.addConditions(select,this,getPrimaryKey().getFieldsArray());
    if (select.execute() == 1) {
      AbstractRecord record=(AbstractRecord)select.getResult().get(0);
      setValues(f,record);
      rs=record.rs;
      rsIndex=record.rsIndex;
    }
 else {
      throw new InvalidResultException("Exactly one row expected for refresh. Record does not exist in database.");
    }
  }
}
