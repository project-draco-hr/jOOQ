{
  reset=false;
  B book=create().fetchOne(TBook(),TBook_TITLE().equal("1984"));
  assertTrue(book.getValue(TBook_CONTENT_TEXT()).contains("doublethink"));
  assertEquals(null,book.getValue(TBook_CONTENT_PDF()));
  book.setValue(TBook_CONTENT_TEXT(),"Blah blah");
  book.setValue(TBook_CONTENT_PDF(),"Blah blah".getBytes());
  book.store();
  book=create().fetchOne(TBook(),TBook_TITLE().equal("1984"));
  assertEquals("Blah blah",book.getValue(TBook_CONTENT_TEXT()));
  assertEquals("Blah blah",new String(book.getValue(TBook_CONTENT_PDF())));
  T725 record=create().newRecord(T725());
  record.setValue(T725_ID(),1);
  assertEquals(1,record.store());
  record.refresh();
  assertNull(record.getValue(T725_LOB()));
  record.setValue(T725_LOB(),new byte[0]);
  assertEquals(1,record.store());
  record.refresh();
switch (getDialect()) {
case ORACLE:
case SQLITE:
    assertNull(record.getValue(T725_LOB()));
  break;
default :
assertEquals(0,record.getValue(T725_LOB()).length);
break;
}
record.setValue(T725_LOB(),"Blah".getBytes());
assertEquals(1,record.store());
record.refresh();
assertEquals("Blah",new String(record.getValue(T725_LOB())));
assertEquals(1,create().query("insert into " + T725().getName() + " values (?, ?)",2,(Object)null).execute());
assertEquals(1,create().query("insert into " + T725().getName() + " values (?, ?)",3,new byte[0]).execute());
assertEquals(1,create().query("insert into " + T725().getName() + " values (?, ?)",4,"abc".getBytes()).execute());
record.setValue(T725_ID(),2);
record.refresh();
assertNull(record.getValue(T725_LOB()));
record.setValue(T725_ID(),3);
record.refresh();
switch (getDialect()) {
case ORACLE:
case SQLITE:
assertNull(record.getValue(T725_LOB()));
break;
default :
assertEquals(0,record.getValue(T725_LOB()).length);
break;
}
record.setValue(T725_ID(),4);
record.refresh();
assertEquals("abc",new String(record.getValue(T725_LOB())));
Result<Record> result=create().fetch("select " + T725_ID().getName() + ", "+ T725_LOB().getName()+ " from "+ T725().getName()+ " order by "+ T725_ID().getName());
assertEquals(4,result.size());
assertEquals(Arrays.asList(1,2,3,4),result.getValues(0));
assertNull(result.getValue(1,1));
switch (getDialect()) {
case ORACLE:
case SQLITE:
assertNull(result.getValue(2,T725_LOB()));
break;
default :
assertEquals(0,result.getValue(2,T725_LOB()).length);
break;
}
assertEquals("abc",new String((byte[])result.getValue(3,T725_LOB().getName())));
}
