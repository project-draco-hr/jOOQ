{
  if (!generator.generateRecords() && mode == Mode.RECORD && definition instanceof TableDefinition) {
    return Record.class.getSimpleName();
  }
  String className=convertToJavaIdentifier(delegate.getJavaClassName(definition,mode));
  if (mode == Mode.FACTORY) {
    String alternative=convertToJavaIdentifier(delegate.getJavaClassName(definition,Mode.DEFAULT));
    if (className.equalsIgnoreCase(alternative)) {
      log.warn("Configuration problem","Factory has the same name as Schema, forcing Factory suffix. Consider correcting your strategy");
      className+="Factory";
    }
  }
  return className;
}
