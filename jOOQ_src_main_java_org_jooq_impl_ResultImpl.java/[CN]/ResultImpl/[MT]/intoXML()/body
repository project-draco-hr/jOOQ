{
  try {
    DocumentBuilderFactory factory=DocumentBuilderFactory.newInstance();
    DocumentBuilder builder=factory.newDocumentBuilder();
    Document document=builder.newDocument();
    Element eResult=document.createElement("jooq-export:result");
    eResult.setAttribute("xmlns:jooq-export","http://www.jooq.org/xsd/jooq-export-1.6.2.xsd");
    document.appendChild(eResult);
    Element eFields=document.createElement("fields");
    eResult.appendChild(eFields);
    for (    Field<?> field : getFields()) {
      Element eField=document.createElement("field");
      eField.setAttribute("name",field.getName());
      eFields.appendChild(eField);
    }
    Element eRecords=document.createElement("records");
    eResult.appendChild(eRecords);
    for (    Record record : this) {
      Element eRecord=document.createElement("record");
      eRecords.appendChild(eRecord);
      for (      Field<?> field : getFields()) {
        Object value=record.getValue(field);
        Element eValue=document.createElement("value");
        eValue.setAttribute("field",field.getName());
        eRecord.appendChild(eValue);
        if (value != null) {
          eValue.setTextContent(format0(value));
        }
      }
    }
    return document;
  }
 catch (  ParserConfigurationException ignore) {
    throw new RuntimeException(ignore);
  }
}
