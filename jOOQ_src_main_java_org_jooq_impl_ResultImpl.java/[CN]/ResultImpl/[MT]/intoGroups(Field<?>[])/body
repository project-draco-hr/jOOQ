{
  if (keys == null) {
    keys=new Field[0];
  }
  Map<Record,Result<R>> map=new LinkedHashMap<Record,Result<R>>();
  FieldList keyList=new FieldList(keys);
  for (  R record : this) {
    @SuppressWarnings({"rawtypes","unchecked"}) Record key=new RecordImpl(keyList);
    for (    Field<?> field : keys) {
      Utils.setValue(key,field,record,field);
    }
    Result<R> result=map.get(key);
    if (result == null) {
      result=new ResultImpl<R>(getConfiguration(),this.fields);
      map.put(key,result);
    }
    result.add(record);
  }
  return map;
}
