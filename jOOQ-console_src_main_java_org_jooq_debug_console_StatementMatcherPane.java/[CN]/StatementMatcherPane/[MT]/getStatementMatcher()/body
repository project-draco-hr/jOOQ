{
  boolean isActive=activeCheckBox.isSelected();
  TextMatcher threadNameTextMatcher=threadNameTextMatcherCheckBox.isSelected() ? threadNameTextMatcherPane.getTextMatcher() : null;
  TextMatcher statementTextMatcher=statementTextMatcherCheckBox.isSelected() ? statementTextMatcherPane.getTextMatcher() : null;
  Set<QueryType> queryTypeSet;
  if (statementTypeCheckBox.isSelected()) {
    List<QueryType> typeList=new ArrayList<QueryType>();
    if (statementTypeSelectCheckBox.isSelected()) {
      typeList.add(QueryType.SELECT);
    }
    if (statementTypeUpdateCheckBox.isSelected()) {
      typeList.add(QueryType.UPDATE);
    }
    if (statementTypeInsertCheckBox.isSelected()) {
      typeList.add(QueryType.INSERT);
    }
    if (statementTypeDeleteCheckBox.isSelected()) {
      typeList.add(QueryType.DELETE);
    }
    if (statementTypeOtherCheckBox.isSelected()) {
      typeList.add(QueryType.OTHER);
    }
    queryTypeSet=EnumSet.copyOf(typeList);
  }
 else {
    queryTypeSet=null;
  }
  return new QueryMatcher(threadNameTextMatcher,statementTextMatcher,queryTypeSet,isActive);
}
