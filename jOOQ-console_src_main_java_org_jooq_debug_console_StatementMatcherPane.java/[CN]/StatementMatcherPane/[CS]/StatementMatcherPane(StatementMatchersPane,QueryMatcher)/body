{
  super(new GridBagLayout());
  setBorder(BorderFactory.createLineBorder(getBackground().darker()));
  if (queryMatcher == null) {
    queryMatcher=new QueryMatcher(null,null,null,true);
  }
  int y=0;
  JPanel northPane=new JPanel(new GridBagLayout());
  activeCheckBox=new JCheckBox("Active",queryMatcher.isActive());
  activeCheckBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      adjustStates();
    }
  }
);
  northPane.add(activeCheckBox,new GridBagConstraints(0,0,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
  JToolBar closeButtonPane=new JToolBar();
  closeButtonPane.setFloatable(false);
  JButton closeButton=new JButton(new ImageIcon(getClass().getResource("/org/jooq/debug/console/resources/TabCloseActive14.png")));
  closeButton.setFocusable(false);
  closeButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      statementMatchersPane.removeStatementMatcherPane(StatementMatcherPane.this);
    }
  }
);
  closeButtonPane.add(closeButton);
  northPane.add(closeButtonPane,new GridBagConstraints(1,0,1,1,0,0,GridBagConstraints.EAST,GridBagConstraints.NONE,new Insets(0,5,0,0),0,0));
  add(northPane,new GridBagConstraints(0,y,2,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(0,0,0,0),0,0));
  y++;
  TextMatcher statementTextMatcher=queryMatcher.getStatementTextMatcher();
  statementTextMatcherCheckBox=new JCheckBox("Statement",statementTextMatcher != null);
  statementTextMatcherCheckBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      adjustStates();
    }
  }
);
  add(statementTextMatcherCheckBox,new GridBagConstraints(0,y,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  statementTextMatcherPane=new TextMatcherPane(statementTextMatcher);
  add(statementTextMatcherPane,new GridBagConstraints(1,y,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.HORIZONTAL,new Insets(0,5,0,0),0,0));
  y++;
  Set<QueryType> queryTypeSet=queryMatcher.getQueryTypeSet();
  statementTypeCheckBox=new JCheckBox("Type",queryTypeSet != null);
  statementTypeCheckBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      adjustStates();
    }
  }
);
  add(statementTypeCheckBox,new GridBagConstraints(0,y,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  JPanel typesPane=new JPanel(new GridBagLayout());
  statementTypeSelectCheckBox=new JCheckBox("SELECT",queryTypeSet != null && queryTypeSet.contains(QueryType.SELECT));
  typesPane.add(statementTypeSelectCheckBox,new GridBagConstraints(0,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  statementTypeUpdateCheckBox=new JCheckBox("UPDATE",queryTypeSet != null && queryTypeSet.contains(QueryType.UPDATE));
  typesPane.add(statementTypeUpdateCheckBox,new GridBagConstraints(1,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,2,0,0),0,0));
  statementTypeInsertCheckBox=new JCheckBox("INSERT",queryTypeSet != null && queryTypeSet.contains(QueryType.INSERT));
  typesPane.add(statementTypeInsertCheckBox,new GridBagConstraints(2,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,2,0,0),0,0));
  statementTypeDeleteCheckBox=new JCheckBox("DELETE",queryTypeSet != null && queryTypeSet.contains(QueryType.DELETE));
  typesPane.add(statementTypeDeleteCheckBox,new GridBagConstraints(3,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,2,0,0),0,0));
  statementTypeOtherCheckBox=new JCheckBox("OTHER",queryTypeSet != null && queryTypeSet.contains(QueryType.OTHER));
  typesPane.add(statementTypeOtherCheckBox,new GridBagConstraints(4,0,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,2,0,0),0,0));
  add(typesPane,new GridBagConstraints(1,y,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,5,0,0),0,0));
  y++;
  TextMatcher threadNameTextMatcher=queryMatcher.getThreadNameTextMatcher();
  threadNameTextMatcherCheckBox=new JCheckBox("Thread name",threadNameTextMatcher != null);
  threadNameTextMatcherCheckBox.addItemListener(new ItemListener(){
    @Override public void itemStateChanged(    ItemEvent e){
      adjustStates();
    }
  }
);
  add(threadNameTextMatcherCheckBox,new GridBagConstraints(0,y,1,1,0,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,0,0,0),0,0));
  threadNameTextMatcherPane=new TextMatcherPane(threadNameTextMatcher);
  add(threadNameTextMatcherPane,new GridBagConstraints(1,y,1,1,1,0,GridBagConstraints.WEST,GridBagConstraints.NONE,new Insets(0,5,0,0),0,0));
  adjustStates();
}
