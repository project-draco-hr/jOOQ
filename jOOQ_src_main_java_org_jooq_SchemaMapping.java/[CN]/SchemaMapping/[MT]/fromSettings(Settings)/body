{
  SchemaMapping result=new SchemaMapping(false);
  if (settings != null) {
    RenderMapping r=settings.getRenderMapping();
    if (r != null) {
      if (!StringUtils.isEmpty(r.getDefaultSchema())) {
        result.use(r.getDefaultSchema());
      }
      for (      MappedSchema schema : r.getSchemata()) {
        result.add(schema.getInput(),schema.getOutput());
        for (        MappedTable table : schema.getTables()) {
          log.warn("TODO","Re-implement table mapping for table " + table);
        }
      }
    }
  }
  return result;
}
