{
  Object o=ois.readUnshared();
  if (o instanceof Message) {
    Message<?> message=(Message<?>)o;
    if (IS_DEBUGGING_MESSAGES) {
      System.err.println("[" + (isClient ? "client" : "server") + "] RECV: "+ message.getID()+ ", "+ message);
    }
    return message;
  }
  System.err.println("[" + (isClient ? "client" : "server") + "] Unknown message: "+ o);
  return null;
}
