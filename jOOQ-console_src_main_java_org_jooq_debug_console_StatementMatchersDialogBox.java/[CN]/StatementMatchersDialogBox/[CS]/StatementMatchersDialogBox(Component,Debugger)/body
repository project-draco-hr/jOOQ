{
  super(SwingUtilities.getWindowAncestor(parent),"Statement filters",ModalityType.DOCUMENT_MODAL);
  setDefaultCloseOperation(DISPOSE_ON_CLOSE);
  Container contentPane=getContentPane();
  final StatementMatchersPane statementMatchersPane=new StatementMatchersPane(debugger.getLoggingStatementMatchers());
  statementMatchersPane.setBorder(BorderFactory.createEmptyBorder(2,2,0,2));
  contentPane.add(statementMatchersPane,BorderLayout.CENTER);
  JPanel buttonBar=new JPanel(new BorderLayout());
  buttonBar.setBorder(BorderFactory.createEmptyBorder(5,5,5,5));
  JPanel filterButtonsPane=new JPanel(new GridLayout(1,2,2,0));
  JButton addFilterButton=new JButton("Add filter");
  addFilterButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      statementMatchersPane.addStatementMatcherPane(new StatementMatcherPane(statementMatchersPane,null));
    }
  }
);
  filterButtonsPane.add(addFilterButton);
  JButton removeAllFiltersButton=new JButton("Remove all");
  removeAllFiltersButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      statementMatchersPane.removeAllStatementMatcherPanes();
    }
  }
);
  filterButtonsPane.add(removeAllFiltersButton);
  buttonBar.add(filterButtonsPane,BorderLayout.WEST);
  JPanel rightButtonsPane=new JPanel(new GridLayout(1,2,2,0));
  JButton okButton=new JButton("OK");
  okButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      StatementMatcher[] statementMatchers=statementMatchersPane.getStatementMatchers();
      debugger.setLoggingStatementMatchers(statementMatchers.length == 0 ? null : statementMatchers);
      dispose();
    }
  }
);
  rightButtonsPane.add(okButton);
  JButton cancelButton=new JButton("Cancel");
  cancelButton.addActionListener(new ActionListener(){
    @Override public void actionPerformed(    ActionEvent e){
      dispose();
    }
  }
);
  rightButtonsPane.add(cancelButton);
  buttonBar.add(rightButtonsPane,BorderLayout.EAST);
  contentPane.add(buttonBar,BorderLayout.SOUTH);
  setSize(600,400);
  setLocationRelativeTo(SwingUtilities.getWindowAncestor(parent));
}
