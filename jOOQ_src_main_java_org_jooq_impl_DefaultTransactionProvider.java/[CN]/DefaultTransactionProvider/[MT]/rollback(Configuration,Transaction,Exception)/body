{
  Stack<Savepoint> savepoints=savepoints(configuration);
  Savepoint savepoint=savepoints.pop();
  try {
    connection.rollback(savepoint);
  }
  finally {
    if (savepoints.isEmpty())     autoCommit(configuration,true);
  }
}
