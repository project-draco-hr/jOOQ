{
  if (windowSpecification != null)   return DSL.sql("({0})",windowSpecification);
  if (windowDefinition != null)   return windowDefinition;
  if (windowName != null) {
    if (asList(POSTGRES).contains(ctx.family())) {
      return windowName;
    }
    Map<Object,Object> map=(Map<Object,Object>)ctx.data(DATA_LOCALLY_SCOPED_DATA_MAP);
    QueryPartList<WindowDefinition> windows=(QueryPartList<WindowDefinition>)map.get(DATA_WINDOW_DEFINITIONS);
    if (windows != null) {
      for (      WindowDefinition window : windows) {
        if (((WindowDefinitionImpl)window).getName().equals(windowName)) {
          return window;
        }
      }
    }
 else {
      return windowName;
    }
  }
  return null;
}
