{
  DSLContext e=DSL.using(new MockConnection(new ArrayResult(3)),SQLDialect.POSTGRES);
  ResultSet r=e.select(strings,integers).fetchResultSet();
  assertEquals(2,r.getMetaData().getColumnCount());
  assertTrue(r.next());
  assertNull(r.getArray("STRINGS"));
  assertNull(r.getArray("INTEGERS"));
  assertTrue(r.next());
  assertArrayEquals(new String[0],(String[])r.getArray("STRINGS").getArray());
  assertArrayEquals(new Integer[0],(Integer[])r.getArray("INTEGERS").getArray());
  assertTrue(r.next());
  assertArrayEquals(new String[]{"1"},(String[])r.getArray("STRINGS").getArray());
  assertArrayEquals(new Integer[]{1},(Integer[])r.getArray("INTEGERS").getArray());
  assertTrue(r.next());
  assertArrayEquals(new String[]{"2","2"},(String[])r.getArray("STRINGS").getArray());
  assertArrayEquals(new Integer[]{2,2},(Integer[])r.getArray("INTEGERS").getArray());
  assertFalse(r.next());
}
