{
  if (configuration == null) {
    return getNewFactory(DefaultConfiguration.DEFAULT_CONFIGURATION);
  }
 else {
    return new Factory(configuration.getDataSource(),configuration.getConnection(),configuration.getDialect(),configuration.getSettings(),configuration.getSchemaMapping(),configuration.getData());
  }
}
