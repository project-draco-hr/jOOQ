{
  if (configuration == null) {
    return getNewFactory(DefaultConfiguration.DEFAULT_CONFIGURATION);
  }
 else {
    return new Factory(configuration.getConnection(),configuration.getDialect(),configuration.getSchemaMapping());
  }
}
