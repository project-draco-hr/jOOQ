{
  if (cursor == null) {
    throw new IllegalArgumentException();
  }
 else   if (cursor.getType() == Result.class) {
    return new FunctionTable<Record>(cursor);
  }
 else   if (ArrayConstant.class.isAssignableFrom(cursor.getClass())) {
    return new ArrayTable(cursor);
  }
 else   if (ArrayRecord.class.isAssignableFrom(cursor.getDataType().getType())) {
    return new ArrayTable(cursor);
  }
 else   if (cursor.getType().isArray() && cursor.getType() != byte[].class) {
    return new ArrayTable(cursor);
  }
  throw new SQLDialectNotSupportedException("Converting arbitrary types into array tables is currently not supported");
}
