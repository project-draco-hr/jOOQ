{
  List<ColumnDefinition> result=new ArrayList<ColumnDefinition>();
  int position=0;
  for (  Record record : create().fetch("pragma table_info('" + getName() + "')")) {
    position++;
    String name=record.getValueAsString("name");
    String dataType=record.getValueAsString("type").replaceAll("\\(\\d+\\)","");
    Number precision=parsePrecision(record.getValueAsString("type"));
    Number scale=parseScale(record.getValueAsString("type"));
    boolean pk=record.getValueAsBoolean("pk");
    boolean identity=pk && create().fetchOne("select count(*) from sqlite_sequence where name = ?",getName()).getValue(0,Boolean.class);
    DefaultDataTypeDefinition type=new DefaultDataTypeDefinition(getDatabase(),dataType,precision,scale);
    ColumnDefinition column=new DefaultColumnDefinition(getDatabase().getTable(getName()),name,position,type,identity,null);
    result.add(column);
  }
  return result;
}
