{
  log.info("Generating routines and table-valued functions");
  JavaWriter out=newJavaWriter(new File(getStrategy().getFile(schema).getParentFile(),"Routines.java"));
  printPackage(out,schema);
  printClassJavadoc(out,"Convenience access to all stored procedures and functions in " + schema.getOutputName());
  printClassAnnotations(out,schema);
  out.println("public class Routines {");
  for (  RoutineDefinition routine : database.getRoutines(schema)) {
    printRoutine(out,routine);
    try {
      generateRoutine(schema,routine);
    }
 catch (    Exception e) {
      log.error("Error while generating routine " + routine,e);
    }
  }
  for (  TableDefinition table : database.getTables(schema)) {
    if (table.isTableValuedFunction()) {
      printTableValuedFunction(out,table,getStrategy().getJavaMethodName(table,Mode.DEFAULT));
    }
  }
  out.println("}");
  out.close();
  watch.splitInfo("Routines generated");
}
