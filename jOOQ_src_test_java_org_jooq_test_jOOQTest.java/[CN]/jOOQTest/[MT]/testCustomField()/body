{
  Field<?> f=new CustomField<Integer>("test",Data.INTEGER_TYPE){
    private static final long serialVersionUID=1L;
    @Override public void toSQL(    RenderContext ctx){
      if (ctx.inline()) {
        ctx.sql("1");
      }
 else {
        ctx.sql("?");
      }
    }
    @Override public int bindReference(    Configuration configuration,    PreparedStatement stmt,    int initialIndex) throws SQLException {
      stmt.setInt(initialIndex,1);
      return initialIndex + 1;
    }
  }
;
  assertEquals("1",refI().render(f));
  assertEquals("?",ref().render(f));
  context.checking(new Expectations(){
{
      oneOf(statement).setInt(1,1);
    }
  }
);
  int i=internal(f).bindReference(create,statement);
  assertEquals(2,i);
  context.assertIsSatisfied();
}
