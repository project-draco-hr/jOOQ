{
  StringBuilder sb=new StringBuilder();
  sb.append("case");
  for (int i=0; i < conditions.size(); i++) {
    sb.append(" when ");
    sb.append(internal(conditions.get(i)).toSQLReference(configuration,inlineParameters));
    sb.append(" then ");
    sb.append(internal(results.get(i)).toSQLReference(configuration,inlineParameters));
  }
  if (otherwise != null) {
    sb.append(" else ");
    sb.append(internal(otherwise).toSQLReference(configuration,inlineParameters));
  }
  sb.append(" end");
  return sb.toString();
}
