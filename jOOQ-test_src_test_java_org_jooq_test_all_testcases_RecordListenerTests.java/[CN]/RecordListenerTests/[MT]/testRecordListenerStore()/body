{
  jOOQAbstractTest.reset=false;
  WriteListener listener1=new WriteListener(TBook());
  B book1=newBook(5);
  book1.attach(create(listener1).configuration());
  assertEquals(1,book1.store());
  assertEquals(asList("storeStart","insertStart","insertEnd","storeEnd"),listener1.events);
  listener1.events.clear();
  book1.setValue(TBook_TITLE(),"1234");
  assertEquals(1,book1.store());
  assertEquals(asList("storeStart","updateStart","updateEnd","storeEnd"),listener1.events);
  WriteListener listener2=new WriteListener(TBook());
  B book2=newBook(6);
  book2.attach(create(listener2).configuration());
  assertEquals(1,book2.insert());
  assertEquals(asList("insertStart","insertEnd"),listener2.events);
  listener2.events.clear();
  book2.setValue(TBook_TITLE(),"1234");
  assertEquals(1,book2.update());
  assertEquals(asList("updateStart","updateEnd"),listener2.events);
  listener2.events.clear();
  assertEquals(1,book2.delete());
  assertEquals(asList("deleteStart","deleteEnd"),listener2.events);
}
