{
  ByteArrayOutputStream out=new ByteArrayOutputStream();
  ObjectOutputStream o=new ObjectOutputStream(out);
  o.writeObject(value);
  o.flush();
  ByteArrayInputStream in=new ByteArrayInputStream(out.toByteArray());
  ObjectInputStream i=new ObjectInputStream(in);
  return (Z)i.readObject();
}
