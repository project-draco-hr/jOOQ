{
  StringBuilder sb=new StringBuilder();
  sb.append("case");
switch (configuration.getDialect()) {
case DERBY:
{
      for (int i=0; i < compareValues.size(); i++) {
        sb.append(" when ");
        sb.append(internal(value.equal(compareValues.get(i))).toSQLReference(configuration,inlineParameters));
        sb.append(" then ");
        sb.append(internal(results.get(i)).toSQLReference(configuration,inlineParameters));
      }
      break;
    }
default :
{
    sb.append(" ");
    sb.append(internal(value).toSQLReference(configuration,inlineParameters));
    for (int i=0; i < compareValues.size(); i++) {
      sb.append(" when ");
      sb.append(internal(compareValues.get(i)).toSQLReference(configuration,inlineParameters));
      sb.append(" then ");
      sb.append(internal(results.get(i)).toSQLReference(configuration,inlineParameters));
    }
    break;
  }
}
if (otherwise != null) {
sb.append(" else ");
sb.append(internal(otherwise).toSQLReference(configuration,inlineParameters));
}
sb.append(" end");
return sb.toString();
}
