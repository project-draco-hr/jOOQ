{
  try {
    create().execute("create table t (a int)");
    create().execute("insert into t values (1)");
    create().alterTable("t").alter("a").set(SQLDataType.VARCHAR).execute();
    assertEquals("1",create().fetchOne("select * from t").getValue(0));
    create().alterTable("t").alter("a").set(SQLDataType.VARCHAR.nullable(false)).execute();
    try {
      create().execute("update t set t = null");
    }
 catch (    DataAccessException expected) {
    }
  }
  finally {
    create().dropTable("t").execute();
  }
}
